<!DOCTYPE html>
<html>

<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Create a simple racing game</title>

  <style>
    body {
  font-family: Arial, sans-serif;
  text-align: center;
  padding: 20px;
}

#mapContainer {
  width: 800px;
  height: auto;
  margin: 0 auto;
  border: 2px solid #000;
}

#map {
  width: 100%;
  cursor: crosshair;
}

  </style>

  
</head>
<body>
  <h2>GeoGuess Game üåç</h2>
<p id="question">Where is <strong id="countryName"></strong>?</p>
<p>Click on the map below:</p>
<div id="mapContainer">
  <img id="map" src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/80/World_map_-_low_resolution.svg/2000px-World_map_-_low_resolution.svg.png" />
</div>
<p id="result"></p>
<button onclick="nextRound()">Next</button>


  <script>
    const countries = [
  { name: "France", lat: 46.603354, lon: 1.888334 },
  { name: "Japan", lat: 36.2048, lon: 138.2529 },
  { name: "Brazil", lat: -14.235, lon: -51.9253 },
  { name: "Egypt", lat: 26.8206, lon: 30.8025 },
  { name: "Australia", lat: -25.2744, lon: 133.7751 },
  { name: "Canada", lat: 56.1304, lon: -106.3468 },
  { name: "India", lat: 20.5937, lon: 78.9629 },
  { name: "United Kingdom", lat: 55.3781, lon: -3.4360 }
];

let selectedCountry = null;

function startGame() {
  selectedCountry = countries[Math.floor(Math.random() * countries.length)];
  document.getElementById("countryName").innerText = selectedCountry.name;
  document.getElementById("result").innerText = "";
}

function nextRound() {
  startGame();
}

function clickOnMap(event) {
  const img = document.getElementById("map");
  const rect = img.getBoundingClientRect();
  const x = event.clientX - rect.left;
  const y = event.clientY - rect.top;

  // Convert pixel position to lat/lon
  const lon = (x / img.width) * 360 - 180;
  const lat = 90 - (y / img.height) * 180;

  const dist = getDistanceFromLatLonInKm(lat, lon, selectedCountry.lat, selectedCountry.lon);
  document.getElementById("result").innerText = `You clicked about ${Math.round(dist)} km from ${selectedCountry.name}`;
}

function getDistanceFromLatLonInKm(lat1, lon1, lat2, lon2) {
  const R = 6371;
  const dLat = deg2rad(lat2-lat1);
  const dLon = deg2rad(lon2-lon1);
  const a = 
    Math.sin(dLat/2) * Math.sin(dLat/2) +
    Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) *
    Math.sin(dLon/2) * Math.sin(dLon/2)
  ;
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
  return R * c;
}

function deg2rad(deg) {
  return deg * (Math.PI/180);
}

document.getElementById("map").addEventListener("click", clickOnMap);

startGame();

  </script>
</body>
</html>
