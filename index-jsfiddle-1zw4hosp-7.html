<!DOCTYPE html>
<html>

<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Create a movable calculator on a webpage</title>

  <style>
    /* CSS */
#game-area {
  position: relative;
  width: 600px;
  height: 400px;
  background: #a0d8f7;
  border: 2px solid #333;
  margin: 20px auto;
  overflow: hidden;
  user-select: none;
}

#spider {
  position: absolute;
  width: 40px;
  height: 40px;
  background: black;
  border-radius: 50%;
  top: 180px;
  left: 280px;
  box-shadow: 0 0 0 4px darkred inset;
  transition: top 0.1s, left 0.1s;
  z-index: 2;
}

#orb {
  position: absolute;
  width: 20px;
  height: 20px;
  background: yellow;
  border-radius: 50%;
  box-shadow: 0 0 10px 3px orange;
  z-index: 1;
}

#monster {
  position: absolute;
  width: 50px;
  height: 50px;
  background: #800080; /* purple */
  clip-path: polygon(50% 0%, 80% 30%, 70% 100%, 30% 100%, 20% 30%);
  top: 50px;
  left: 50px;
  transition: top 0.1s, left 0.1s;
  z-index: 3;
}

#score {
  position: absolute;
  top: 5px;
  left: 5px;
  font-size: 18px;
  font-weight: bold;
  color: #333;
  z-index: 4;
}

#game-over {
  position: absolute;
  top: 45%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 28px;
  font-weight: bold;
  color: red;
  background: white;
  padding: 20px;
  border-radius: 10px;
  z-index: 10;
}

  </style>

  
</head>
<body>
  <!-- HTML -->
<div id="game-area">
  <div id="spider"></div>
  <div id="orb"></div>
  <div id="monster"></div>
  <div id="score">Score: 0</div>
  <div id="game-over" style="display:none;">Game Over! Refresh to play again.</div>
</div>


  <script>
    // JavaScript
const gameArea = document.getElementById("game-area");
const spider = document.getElementById("spider");
const orb = document.getElementById("orb");
const monster = document.getElementById("monster");
const scoreDisplay = document.getElementById("score");
const gameOverText = document.getElementById("game-over");

const gameWidth = gameArea.clientWidth;
const gameHeight = gameArea.clientHeight;

let spiderPos = { x: 280, y: 180 };
let orbPos = { x: 0, y: 0 };
let monsterPos = { x: 50, y: 50 };

const spiderSize = 40;
const orbSize = 20;
const monsterSize = 50;

let score = 0;
let gameOver = false;

function placeOrbRandom() {
  const maxX = gameWidth - orbSize;
  const maxY = gameHeight - orbSize;
  orbPos.x = Math.floor(Math.random() * maxX);
  orbPos.y = Math.floor(Math.random() * maxY);
  orb.style.left = orbPos.x + "px";
  orb.style.top = orbPos.y + "px";
}

function updatePositions() {
  spider.style.left = spiderPos.x + "px";
  spider.style.top = spiderPos.y + "px";

  monster.style.left = monsterPos.x + "px";
  monster.style.top = monsterPos.y + "px";

  orb.style.left = orbPos.x + "px";
  orb.style.top = orbPos.y + "px";
}

function checkCollision(aPos, aSize, bPos, bSize) {
  return !(
    aPos.x + aSize < bPos.x ||
    aPos.x > bPos.x + bSize ||
    aPos.y + aSize < bPos.y ||
    aPos.y > bPos.y + bSize
  );
}

function moveMonsterTowardSpider() {
  if (gameOver) return;

  const speed = 2;
  if (monsterPos.x < spiderPos.x) monsterPos.x += speed;
  else if (monsterPos.x > spiderPos.x) monsterPos.x -= speed;

  if (monsterPos.y < spiderPos.y) monsterPos.y += speed;
  else if (monsterPos.y > spiderPos.y) monsterPos.y -= speed;

  // Keep monster inside bounds
  monsterPos.x = Math.min(Math.max(0, monsterPos.x), gameWidth - monsterSize);
  monsterPos.y = Math.min(Math.max(0, monsterPos.y), gameHeight - monsterSize);
}

function updateGame() {
  if (gameOver) return;

  moveMonsterTowardSpider();
  updatePositions();

  // Check if spider caught orb
  if (checkCollision(spiderPos, spiderSize, orbPos, orbSize)) {
    score++;
    scoreDisplay.textContent = "Score: " + score;
    placeOrbRandom();
  }

  // Check if monster caught spider
  if (checkCollision(monsterPos, monsterSize, spiderPos, spiderSize)) {
    gameOver = true;
    gameOverText.style.display = "block";
  }
}

// Handle spider movement with keys
window.addEventListener("keydown", (e) => {
  if (gameOver) return;

  const step = 10;
  switch (e.key) {
    case "ArrowUp":
    case "w":
    case "W":
      spiderPos.y = Math.max(0, spiderPos.y - step);
      break;
    case "ArrowDown":
    case "s":
    case "S":
      spiderPos.y = Math.min(gameHeight - spiderSize, spiderPos.y + step);
      break;
    case "ArrowLeft":
    case "a":
    case "A":
      spiderPos.x = Math.max(0, spiderPos.x - step);
      break;
    case "ArrowRight":
    case "d":
    case "D":
      spiderPos.x = Math.min(gameWidth - spiderSize, spiderPos.x + step);
      break;
  }
  updatePositions();
});

// Start game
placeOrbRandom();
updatePositions();

// Run game loop ~60fps
setInterval(updateGame, 16);

  </script>
</body>
</html>
